

<!DOCTYPE html>


<html lang="es" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
    <link href="../../_static/favicon-16x16.png" sizes="16x16" rel="icon" type="image/png">
    <link href="../../_static/favicon-124x124.png" sizes="124x124" rel="icon" type="image/png">
    <link href="../../_static/favicon-128x128.png" sizes="128x128" rel="icon" type="image/png">
    <link href="../../_static/favicon-192x192.png" sizes="192x192" rel="icon" type="image/png">
    <link href="../../_static/icon.svg" rel="icon" type="image/svg+xml">
    <title>Contenido &#8212; documentación de UIBCDF - Taller de Linux - 2023.2</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../../_static/translations.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'antes_semanas/semana_4/contenido';</script>
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="es"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Saltar al contenido principal</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/LogoUIBCDF_vectorizado.svg" class="logo__image only-light" alt="UIBCDF Taller Linux"/>
    <script>document.write(`<img src="../../_static/LogoUIBCDF_vectorizado.svg" class="logo__image only-dark" alt="UIBCDF Taller Linux"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introducción</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../introduccion/quienes_somos.html">Quiénes somos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduccion/como_trabajar/como_trabajar.html">Cómo trabajar con este taller</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../introduccion/otras_herramientas/index.html">Herramientas necesarias</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../introduccion/otras_herramientas/conda/conda.html">Conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduccion/otras_herramientas/git/git.html">Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduccion/otras_herramientas/github/github.html">GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduccion/otras_herramientas/jupyter/jupyter.html">Jupyter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduccion/otras_herramientas/notebook/notebook.html">Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduccion/otras_herramientas/markdown/markdown.html">Markdown</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Programa</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../contenidos/introduccion_linux/index.html">Introducción a Linux</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/introduccion_linux/que_es/que_es.html">¿Qué es Linux?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/introduccion_linux/por_que/por_que.html">¿Por qué Linux?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contenidos/instalacion_linux/instalacion_linux.html">Cómo instalar Linux</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../contenidos/ayuda_comandos/index.html">Ayuda de comandos</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/ayuda_comandos/man/man.html"><code class="docutils literal notranslate"><span class="pre">man</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/ayuda_comandos/help/help.html"><code class="docutils literal notranslate"><span class="pre">help</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/ayuda_comandos/apropos/apropos.html"><code class="docutils literal notranslate"><span class="pre">apropos</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../contenidos/filtrado_texto/index.html">Reconocimiento y filtrado de texto</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/filtrado_texto/fichero_trabajo/fichero_trabajo.html">Un fichero de texto para trabajar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/filtrado_texto/regex/regex.html">Expresiones regulares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/filtrado_texto/grep/grep.html"><code class="docutils literal notranslate"><span class="pre">grep</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/filtrado_texto/awk/awk.html"><code class="docutils literal notranslate"><span class="pre">awk</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contenidos/filtrado_texto/sed/sed.html"><code class="docutils literal notranslate"><span class="pre">sed</span></code></a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/uibcdf/Taller-Linux" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Repositorio de origen"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/uibcdf/Taller-Linux/blob/main/antes_semanas/semana_4/contenido.md?plain=1" target="_blank"
   class="btn btn-sm btn-source-file-button dropdown-item"
   title="Show source"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">Show source</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Descarga esta pagina">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/antes_semanas/semana_4/contenido.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Descargar archivo fuente"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Imprimir en PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Modo de pantalla completa"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="claro/oscuro" aria-label="claro/oscuro" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Búsqueda" aria-label="Búsqueda" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Contenido</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contenido </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#los-procesos-en-linux">Los procesos en Linux</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#top-ps-y-kill-a-class-anchor-id-top-a">top, ps y kill. <a class="anchor" id="top"></a></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#los-permisos-de-los-ficheros">Los permisos de los ficheros.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bash-como-lenguage-de-programacion-para-la-terminal-a-class-anchor-id-bash-a">Bash como lenguage de programación para la terminal. <a class="anchor" id="bash"></a></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables">Variables.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bucles">Bucles.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#condicion-logica-if-a-class-anchor-id-if-a">Condicion lógica <em>if</em>. <a class="anchor" id="if"></a></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conversion-de-imagenes-encontradas-en-un-directorio-a-class-anchor-id-convert-a">Conversión de imágenes encontradas en un directorio. <a class="anchor" id="convert"></a></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#listado-de-ficheros-pesados">Listado de ficheros pesados.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finalizacion-de-un-proceso-como-gatillo-para-otro-a-class-anchor-id-gatillo-a">Finalización de un proceso como gatillo para otro. <a class="anchor" id="gatillo"></a></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#las-extensiones-de-los-archivos">Las extensiones de los archivos.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#el-script">El script.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#el-reconocimiento-y-filtrado-de-texto-grep-awk-y-sed-a-class-anchor-id-grep-a">El reconocimiento y filtrado de texto: grep, awk y sed. <a class="anchor" id="grep"></a></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="contenido">
<h1>Contenido<a class="headerlink" href="#contenido" title="Enlace permanente a este encabezado">#</a></h1>
<p>Los siguientes contenidos serán presentados en <a class="reference internal" href="sesion.html"><span class="doc std std-doc">una sesión de videoconferencia</span></a>.
Puedes encontrar en <a class="reference download internal" download="" href="../../_downloads/0a9fc9e8ec384981eba0bed1c61061ef/slides.pdf"><span class="xref download myst">este enlace</span></a> las slides usadas como soporte.</p>
<section id="los-procesos-en-linux">
<h2>Los procesos en Linux<a class="headerlink" href="#los-procesos-en-linux" title="Enlace permanente a este encabezado">#</a></h2>
<section id="top-ps-y-kill-a-class-anchor-id-top-a">
<h3>top, ps y kill. <a class="anchor" id="top"></a><a class="headerlink" href="#top-ps-y-kill-a-class-anchor-id-top-a" title="Enlace permanente a este encabezado">#</a></h3>
<p>Anteriormente, a propósito del directorio <code class="docutils literal notranslate"><span class="pre">/proc</span></code> dijimos que todo proceso ejecutado por la computadora lleva asociado un número como identificador, el PID. El comando <code class="docutils literal notranslate"><span class="pre">top</span></code> nos lista los procesos regitrados activos, durmientes o suspendidos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>top
</pre></div>
</div>
<p>El mismo <code class="docutils literal notranslate"><span class="pre">top</span></code> nos permite por ejemplo «matar» un proceso que se ha podido
quedar colgado o está dando problemas. O sencillamente queremos abortarlo por
algún motivo. Veremos esto más adelante, en esta sección. Vamos a configurar
una sencilla situación de ejemplo para ilustrar esto.</p>
<p>Anteriormente hemos visto que <code class="docutils literal notranslate"><span class="pre">more</span></code> saca todo el contenido del fichero en la
terminal, pero a veces el fichero es excesivamente largo. Si lo visualizas con
<code class="docutils literal notranslate"><span class="pre">more</span></code> todas las líneas aparecerán en tu terminal, haciendo muy incomodo que
quieras regresar en ella a ver tu historial de comandos. Para poder navegar
mejor en la visualización del fichero, porque <em>less is more</em> -un dicho inglés-,
<code class="docutils literal notranslate"><span class="pre">less</span></code> nos permite ir adelante y hacia atrás en la salida del fichero, e
incluso hacer búsqueda de patrones de texto sin afectar la terminal. Por eso
<code class="docutils literal notranslate"><span class="pre">less</span></code> la secuestra, como si hubieramos abierto un programita que no tiene
salida gráfica y con el que se interacciona por la misma ventana que la
terminal (de hecho, así es). Para salir de <code class="docutils literal notranslate"><span class="pre">less</span></code> basta con presionar la tecla
“q”, pero vamos a imaginar ahora que <code class="docutils literal notranslate"><span class="pre">less</span></code> no responde… se atoró porque el
fichero es muy grande. Le hemos pedido por ejemplo a <code class="docutils literal notranslate"><span class="pre">less</span></code> que haga una
búsqueda de patrón de texto, pero la cantidad de información es tanta que le
está tomando mucho tiempo y nos hemos arrepentido… haremos la búsqueda con
<code class="docutils literal notranslate"><span class="pre">awk</span></code>. ¿Cómo interrumpimos el proceso? ¿Cómo lo matamos?</p>
<p>Vamos a generar, antes que nada, nuestro gran fichero. Veremos más adelante que
Bash es un lenguage de programación donde puedo hacer todo tipo de cosas, como
bucles por ejemplo:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span>seq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="sb">`</span><span class="p">;</span>
<span class="w">   </span><span class="k">do</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="w">   </span><span class="k">done</span>
</pre></div>
</div>
<p>o lo que es lo mismo:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span>seq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10</span><span class="sb">`</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</pre></div>
</div>
<p>Vamos a emplear un bucle para hacer un gran fichero de un 10 millones de
números aleatorios -le costará un minuto escribirlo en disco-:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="sb">`</span>seq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">10000000</span><span class="sb">`</span><span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;En la linea&quot;</span><span class="w"> </span><span class="nv">$i</span><span class="w"> </span><span class="s2">&quot;el número aleatorio&quot;</span><span class="w"> </span><span class="nv">$RANDOM</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>numeros_aleatorios.txt<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</pre></div>
</div>
<p>El fichero es grande. Pesa más de 400 megas. Puedes ver el tamaño que ocupa en
disco con el comando:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>du<span class="w"> </span>-sh<span class="w"> </span>numeros_aleatorios.txt
</pre></div>
</div>
<p>Y si quieres saber cuantas líneas o caracteres tiene:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wc<span class="w"> </span>-l<span class="w"> </span>numeros_aleatorios.txt
wc<span class="w"> </span>-c<span class="w"> </span>numeros_aleatorios.txt
</pre></div>
</div>
<p>Ahora vamos a abrirlo con <code class="docutils literal notranslate"><span class="pre">less</span></code> para buscar la línea que contiene el patrón
<code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">linea</span> <span class="pre">1000000</span></code>. Para ello:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>less<span class="w"> </span>numeros_aleatorios.txt
</pre></div>
</div>
<p>Con <code class="docutils literal notranslate"><span class="pre">less</span></code> abierto sobre nuestro fichero teclea <code class="docutils literal notranslate"><span class="pre">/la</span> <span class="pre">linea</span> <span class="pre">1000000</span></code> y presiona
la tecla “entrar”. Verás que tarda un par de segundos en leer secuencialmente
el fichero hasta que encuentra el texto que buscamos. Busquemos ahora
“10000000”. Para repetir la operación desde el principio, sal de <code class="docutils literal notranslate"><span class="pre">less</span></code> con la
tecla “q”, vuelve a abrir el fichero y teclea <code class="docutils literal notranslate"><span class="pre">/10000000</span></code>. Verás que tarda un
poquito. Vamos a suponer que queremos abortar la búsqueda porque el fichero es
excesivamente grande. Con <code class="docutils literal notranslate"><span class="pre">less</span></code> abierto sobre nuestra terminal vamos a
encontrar buscar su PID. Abre otra terminal y ejecuta:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ps<span class="w"> </span>aux
</pre></div>
</div>
<p>Verás que se listan todos los procesos que están corriendo en tu computadora en
este momento. La primera columna ofrece el nombre del usuario propietario del
proceso, la segunda es el PID (número de identificación del proceso), y el
resto muestran información como la hora y el día de inicio, el tiempo que
llevan ejecutandose, la terminal a la que están vinculados, o el nombre o
comando del proceso mismo. Puedes encontrar información sobre estas columnas
haciendo <a class="reference external" href="https://www.google.com/search?q=ps+aux+columns">una sencilla búsqueda en
internet</a>.</p>
<p>Vamos ahora a buscar el proceso <code class="docutils literal notranslate"><span class="pre">less</span></code> para «matarlo» y liberar la primera
terminal. En lugar de revisar toda la lista, hagamos uso del poderoso comando
<code class="docutils literal notranslate"><span class="pre">grep</span></code> que nos ayuda a filtrar patrones de texto. Vamos a hacer lo que se
conoce en Linux como <code class="docutils literal notranslate"><span class="pre">pipe</span></code> o tubería, redirigiendo la salida de <code class="docutils literal notranslate"><span class="pre">ps</span> <span class="pre">aux</span></code> a la
entrada del comando <code class="docutils literal notranslate"><span class="pre">grep</span></code> (como si concatenáramos los dos):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>less
</pre></div>
</div>
<p>Obtendrás algo como:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">diego</span>    <span class="mi">15949</span>  <span class="mf">0.0</span>  <span class="mf">0.0</span>  <span class="mi">11072</span>  <span class="mi">2572</span> <span class="n">pts</span><span class="o">/</span><span class="mi">3</span>    <span class="n">S</span><span class="o">+</span>   <span class="mi">13</span><span class="p">:</span><span class="mi">57</span>   <span class="mi">0</span><span class="p">:</span><span class="mi">00</span> <span class="n">less</span> <span class="n">numeros_aleatorios</span><span class="o">.</span><span class="n">txt</span>
<span class="n">diego</span>    <span class="mi">16454</span>  <span class="mf">0.0</span>  <span class="mf">0.0</span>  <span class="mi">15652</span>  <span class="mi">1160</span> <span class="n">pts</span><span class="o">/</span><span class="mi">5</span>    <span class="n">S</span><span class="o">+</span>   <span class="mi">14</span><span class="p">:</span><span class="mi">07</span>   <span class="mi">0</span><span class="p">:</span><span class="mi">00</span> <span class="n">grep</span> <span class="o">--</span><span class="n">color</span><span class="o">=</span><span class="n">auto</span> <span class="n">less</span>
</pre></div>
</div>
<p>La segunda línea es el mismo comando <code class="docutils literal notranslate"><span class="pre">grep</span></code> que se está ejecutando, y “15949”
es el PID del proceso que queremos matar con el comando <code class="docutils literal notranslate"><span class="pre">kill</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span><span class="m">15949</span>
</pre></div>
</div>
<p>Verás que, como resultado, la primera terminal en la que se estaba ejecutando
<code class="docutils literal notranslate"><span class="pre">less</span></code> ha quedado liberada. Si te estás preguntando por qué añadimos <code class="docutils literal notranslate"><span class="pre">-9</span></code> al
comando <code class="docutils literal notranslate"><span class="pre">kill</span></code> puedes buscarlo en internet o acudir a la documentación propia
que acompaña a todos los comandos de Linux. Para esto ejecutamos el comando
<code class="docutils literal notranslate"><span class="pre">man</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>man<span class="w"> </span><span class="nb">kill</span>
</pre></div>
</div>
<p>O puedes también encontrar una versión de la documentación más breve añadiendo
la bandera, en inglés <em>flag</em>, <code class="docutils literal notranslate"><span class="pre">--help</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">kill</span><span class="w"> </span>--help
</pre></div>
</div>
<p>Antes de pasar a la siguiente sección recuerda borrar el fichero
<code class="docutils literal notranslate"><span class="pre">numeros_aleatorios.txt</span></code>, es muy pesado. Antes de eso, deja que te cuente que
si querías ver cúal era el último número aleatorio registrado en el fichero, no
hacía falta hacer la búsqueda de la última línea con <code class="docutils literal notranslate"><span class="pre">less</span></code>. El comando <code class="docutils literal notranslate"><span class="pre">tail</span></code>
saca por pantalla el final de un fichero, así como <code class="docutils literal notranslate"><span class="pre">head</span></code> imprime las primeras
lineas:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tail<span class="w"> </span>numeros_aleatorios.txt
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>head<span class="w"> </span>numeros_aleatorios.txt
</pre></div>
</div>
<p>Vamos a jugar con los dos comandos para sacar por ejemplo la línea 9456:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>head<span class="w"> </span>-9456<span class="w"> </span>numeros_aleatorios.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>tail<span class="w"> </span>-1
</pre></div>
</div>
<p>Ahora sí, no olvides borrar el fichero:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm<span class="w"> </span>numeros_aleatorios.txt
</pre></div>
</div>
</section>
</section>
<section id="los-permisos-de-los-ficheros">
<h2>Los permisos de los ficheros.<a class="headerlink" href="#los-permisos-de-los-ficheros" title="Enlace permanente a este encabezado">#</a></h2>
<p>Un fichero tiene asociado desde su creación unos permisos, negados o validados,
de escritura, lectura y ejecución; para el usuario propietario, el grupo
propietario o para todos. Vamos a ver esto con detalle.</p>
<p>El comando <code class="docutils literal notranslate"><span class="pre">touch</span></code> crea un fichero vacío, que en este caso vamos a llamar
“asdf”.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>touch<span class="w"> </span>asdf
</pre></div>
</div>
<p>Para conocer los permisos y los propietaros podemos recurrir al comando <code class="docutils literal notranslate"><span class="pre">ls</span></code> con la bandera <code class="docutils literal notranslate"><span class="pre">-l</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>-l<span class="w"> </span>asdf
</pre></div>
</div>
<p>Veremos una linea similar a esta:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>diego<span class="w"> </span>diego<span class="w"> </span><span class="m">0</span><span class="w"> </span>dic<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">21</span>:08<span class="w"> </span>asdf
</pre></div>
</div>
<p>En la salida del comando anterior podemos identificar, empezando por el final,
el nombre del fichero, la fecha de su creación, el espacio que ocupa en disco
(«0» porque está vacío) y dos veces “diego”, como usuario propietario y como
grupo propietario. Despues vemos el número entero «1» que indica el número de
enlaces -no relevante aquí-, y una secuencia de 10 caracteres:</p>
<ul class="simple">
<li><p>El primer carácter para un fichero normal suele ser “-“.</p></li>
<li><p>Los siguientes tres caracteres “rwx” indican permiso de lectura (r),
escritura (w) y ejecución (x) para el usuario propietario. El permiso se
indica como denegado para cada acción si en lugar de la letra correspondiente
vemos un signo “-“.</p></li>
<li><p>Los siguientes tres caracteres indican permiso de lectura, escritura y
ejecución para el grupo propietario.</p></li>
<li><p>Los últimos tres caracteres indican los mismos permisos pero para cualquier
usuario.</p></li>
</ul>
<p>Así, atendiendo a nuestro fichero “asdf”, vemos que tiene permisos de lectura y
escritura para “diego”, y únicamente de lectura para cualquier otro usuario.
Modifiquemos los permisos conociendo que en el siguiente comando la letra “u”
quiere decir usuario, “g” quiere decir grupo y “a” hace referencia a cualquier
otro usuario. Vamos con <code class="docutils literal notranslate"><span class="pre">chmod</span></code> a dar permisos de ejecución para el usuario
“diego” y de escritura para cualquier otro.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod<span class="w"> </span>u+x<span class="w"> </span>asdf
chmod<span class="w"> </span>a+w<span class="w"> </span>asdf
</pre></div>
</div>
<p>Y aunque sea absurdo, vamos a quitarle los permisos de lectura al grupo propietario:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod<span class="w"> </span>g-r<span class="w"> </span>asdf
</pre></div>
</div>
<p>Veamos ahora la salida de <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>diego<span class="w"> </span>diego<span class="w"> </span><span class="m">0</span><span class="w"> </span>dic<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">21</span>:08<span class="w"> </span>asdf
</pre></div>
</div>
<p>Por último, podemos cambiar el usuario o el grupo propietario con los comandos
<code class="docutils literal notranslate"><span class="pre">chown</span></code> y <code class="docutils literal notranslate"><span class="pre">chgrp</span></code> (y con <code class="docutils literal notranslate"><span class="pre">sudo</span></code>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>chown<span class="w"> </span>liliana<span class="w"> </span>asdf
sudo<span class="w"> </span>chgrp<span class="w"> </span>liliana<span class="w"> </span>asdf
</pre></div>
</div>
<p>Por última vez ejecuta <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-l</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-rwx-w-rw-<span class="w"> </span><span class="m">1</span><span class="w"> </span>liliana<span class="w"> </span>liliana<span class="w"> </span><span class="m">0</span><span class="w"> </span>dic<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">21</span>:09<span class="w"> </span>asdf
</pre></div>
</div>
<p>Antes de continuar con la siguiente sección es conveniente que borres el
fichero “asdf”:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm<span class="w"> </span>asdf
</pre></div>
</div>
</section>
<section id="bash-como-lenguage-de-programacion-para-la-terminal-a-class-anchor-id-bash-a">
<h2>Bash como lenguage de programación para la terminal. <a class="anchor" id="bash"></a><a class="headerlink" href="#bash-como-lenguage-de-programacion-para-la-terminal-a-class-anchor-id-bash-a" title="Enlace permanente a este encabezado">#</a></h2>
<p>En secciones anteriores hemos advertido que Bash es un lenguage de
programación. La terminal no es únicamente un medio para invocar comandos…
puedes programar algoritmos que resuelvan de un manera más eficiente la tarea
que pretendes resolver. Vamos a poner tres ejemplos sencillos: convertir como
pdf todas las imágenes con extensión png que se encuentren en un directorio,
listar todos los ficheros de tamaño mayor que un cierto límite en un
directorio, o ejecutar un proceso cuando otro haya terminado.</p>
<p>Antes de ver los ejemplos enunciaremos un poco de información sobre alguno de
los aspectos que caracteriza un lenguage de programación, como pueden ser las
variables, los bucles o las condiciones lógicas.</p>
<section id="variables">
<h3>Variables.<a class="headerlink" href="#variables" title="Enlace permanente a este encabezado">#</a></h3>
<p>Como en todo lenguage de programación, la definición y almacenamiento de
variables es esencial. Puedes definir variables en la terminal de la siguiente
manera:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">var_A</span><span class="o">=</span><span class="s1">&#39;patata&#39;</span>
<span class="nv">var_B</span><span class="o">=</span><span class="m">4</span>
</pre></div>
</div>
<p>Puedes con <code class="docutils literal notranslate"><span class="pre">echo</span></code> sacar por la terminal el contenido de las variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$mi_variable</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$otra_variable</span>
</pre></div>
</div>
<p>Puedes realizar operaciones algebráicas con las variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">var_C</span><span class="o">=</span><span class="k">$((</span><span class="nv">$var_B</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2</span><span class="k">))</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$C</span>
</pre></div>
</div>
<p>No es el objetivo de este texto enseñar a programar en Bash. Se trata
únicamente de que comprendas por qué es más util trabajar con la terminal que
con el entorno de escritorio. Puedes encontrar en internet guías y tutoriales
de programación en Bash si quieres profundizar. Allí aprenderas que también
puedes definir variables lógicas, vectores, etc.</p>
<p>Antes de terminar la introducción a las variables, has de saber que estas
variables que defines en una terminal están asociadas a esa terminal… en
cuanto la cierres se van a perder, y si pasas a otra terminal no las vas a ver.
Son locales.</p>
<p>Linux hace uso también de las variables para la gestión de los procesos y los
usuarios. Muchas de las cosas que están detrás de un usuario son variables. El
nombre de tu usuario, el conjunto de paths en los que tu usuario busca comandos
o archivos ejecutables, la lista de paths donde tu usuario busca librerías, el
path en el que se encuentra tu terminal, el path de tu directorio hogar… son
variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$USERNAME</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$PATH</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$LIBRARY_PATH</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$PWD</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$HOME</span>
</pre></div>
</div>
<p>Puedes listar todas las variables que tu terminal maneja con el comando
<code class="docutils literal notranslate"><span class="pre">export</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span>
</pre></div>
</div>
<p>De hecho, <code class="docutils literal notranslate"><span class="pre">export</span></code> o <code class="docutils literal notranslate"><span class="pre">set</span></code> también sirven para la definición de variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">varD</span><span class="o">=</span><span class="m">10</span>
</pre></div>
</div>
<p>Puedes borrar las variables de la memoria de la siguiente manera:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">unset</span><span class="w"> </span>varD
</pre></div>
</div>
</section>
<section id="bucles">
<h3>Bucles.<a class="headerlink" href="#bucles" title="Enlace permanente a este encabezado">#</a></h3>
<p>Hemos visto aquí un ejemplo en las secciones anteriores. Puedes hacer bucles en
Bash del tipo secuencia, «haz mientras que…», «haz en caso de que…», etc.
Vamos a ver un ejemplo de tipo secuencia y otro de tipo «haz mientras que…»:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">j</span><span class="o">=</span><span class="m">0</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>seq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">25</span><span class="k">)</span>
<span class="k">do</span>
<span class="w">   </span><span class="nv">j</span><span class="o">=</span><span class="k">$((</span><span class="nv">$j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>
<span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;El número </span><span class="nv">$j</span><span class="s2"> de la serie es </span><span class="nv">$i</span><span class="s2">&quot;</span>
<span class="k">done</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">j</span><span class="o">=</span><span class="m">0</span>
<span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$j</span><span class="w"> </span>-le<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">   </span><span class="nv">i</span><span class="o">=</span><span class="k">$((</span><span class="nv">$j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">5</span><span class="k">))</span>
<span class="w">   </span><span class="nv">j</span><span class="o">=</span><span class="k">$((</span><span class="nv">$j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>
<span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;El número </span><span class="nv">$j</span><span class="s2"> de la serie es </span><span class="nv">$i</span><span class="s2">&quot;</span>
<span class="k">done</span>
</pre></div>
</div>
</section>
<section id="condicion-logica-if-a-class-anchor-id-if-a">
<h3>Condicion lógica <em>if</em>. <a class="anchor" id="if"></a><a class="headerlink" href="#condicion-logica-if-a-class-anchor-id-if-a" title="Enlace permanente a este encabezado">#</a></h3>
<p>También existen las condiciones lógicas. Veamos dos ejemplos de la sintaxis de
la condición lógica «si ocurre esto haz esto otro». Nos auxiliaremos para el
primero del comando <code class="docutils literal notranslate"><span class="pre">date</span></code>. Pruébalo antes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>date
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">date</span></code> tiene muchas opciones, puedes checar <code class="docutils literal notranslate"><span class="pre">date</span> <span class="pre">--help</span></code> para entender qué
significa:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>date+<span class="s2">&quot;%u&quot;</span>
</pre></div>
</div>
<p>Podemos redirigir la salida de un comando a una variable en lugar de a
<code class="docutils literal notranslate"><span class="pre">stdout</span></code>. Parecido a como la podíamos dirigir a un fichero de disco mediante
<code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, pero esta vez a una variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">dia_de_la_semana</span><span class="o">=</span><span class="sb">`</span>date<span class="w"> </span>+<span class="s2">&quot;%u&quot;</span><span class="sb">`</span>
</pre></div>
</div>
<p>Hagamos ahora un ejemplo de estructura condicional con esta variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$dia_de_la_semana</span><span class="w"> </span>-le<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Muy bien. Es día laborable y estás trabajando.&#39;</span>
<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$dia_de_la_semana</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Es viernes!&#39;</span>
<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$dia_de_la_semana</span><span class="w"> </span>-le<span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Estás trabajando en fín de semana?&#39;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Tu semana tiene más de 7 días?&#39;</span>
<span class="k">fi</span>
</pre></div>
</div>
<p>Ya estamos en condiciones de resolver algunas tareas sencillas.</p>
</section>
<section id="conversion-de-imagenes-encontradas-en-un-directorio-a-class-anchor-id-convert-a">
<h3>Conversión de imágenes encontradas en un directorio. <a class="anchor" id="convert"></a><a class="headerlink" href="#conversion-de-imagenes-encontradas-en-un-directorio-a-class-anchor-id-convert-a" title="Enlace permanente a este encabezado">#</a></h3>
<p>Como primer ejemplo vamos a escribir unas líneas que ejecutar en la terminal
para convertir los ficheros jpg de un directorio a pdf con unas pocas lineas de
código.</p>
<p>En primer lugar descarga un paquete de imagenes jpg gratuitas que hemos
recopilado para este tutorial:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>https://github.com/uibcdf/Academia/raw/main/data/misc/free_images_jpg.tar.gz
</pre></div>
</div>
<p>Se trata de un archivo comprimido (tar.gz), si buscas en internet como
descomprimirlo vas a encontrar algo como:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar<span class="w"> </span>-zxvf<span class="w"> </span>free_images_jpg.tar.gz
</pre></div>
</div>
<p>Ahora vamos a situarnos en el directorio donde están las imágenes. Además, para
ver que nuestro bucle opera solo sobre los ficheros jpg, vamos a crear tres
ficheros allí que no deberían verse afectados.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>free_images_jpg
touch<span class="w"> </span>foo1.txt<span class="w"> </span>foo2.png<span class="w"> </span>foo3.exe
ls
</pre></div>
</div>
<p>Hagamos un bucle para convertir las imágenes jpg a pdf. Usaremos el comando
<code class="docutils literal notranslate"><span class="pre">convert</span></code> que puedes instalar con el paquete llamado <code class="docutils literal notranslate"><span class="pre">imagemagick</span></code>. Recuerda
que si estás usando Ubuntu, basta el comando <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">imagemagick</span></code>
para instalarlo. Desafortunadamente, para aprovechar todas sus funcionalidades,
hay algo más. Por motivos de seguridad ImageMagick viene con la opción de
tratar pdfs bloqueada, para resolverlo tendrás que seguir <a class="reference external" href="https://stackoverflow.com/a/52831300">las indicaciones
dadas por un usuario en este foro</a>.</p>
<p>Ahora sí, ejecuta estas líneas de código Bash:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span>filename<span class="w"> </span><span class="k">in</span><span class="w"> </span>*.jpg<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nv">fileprefix</span><span class="o">=</span><span class="sb">`</span>basename<span class="w"> </span><span class="nv">$filename</span><span class="w"> </span>.jpg<span class="sb">`</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Convirtiendo </span><span class="nv">$fileprefix</span><span class="s2"> de jpg a pdf...&quot;</span>
<span class="w">    </span>convert<span class="w"> </span><span class="nv">$filename</span><span class="w"> </span><span class="nv">$fileprefix</span>.pdf
<span class="k">done</span>
</pre></div>
</div>
<p>Verás que los archivos jpg se han convertido a pdf:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls
</pre></div>
</div>
<p>Puedes abrir un pdf con por ejemplo el comando <code class="docutils literal notranslate"><span class="pre">evince</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>evince<span class="w"> </span>alpine-architecture-bridge-460373.pdf
</pre></div>
</div>
<p>No borres todavía la carpeta con estas imágenes. Van a ser de utilidad en la
siguiente sección.</p>
</section>
<section id="listado-de-ficheros-pesados">
<h3>Listado de ficheros pesados.<a class="headerlink" href="#listado-de-ficheros-pesados" title="Enlace permanente a este encabezado">#</a></h3>
<p>Como segundo ejemplo hagamos un filtro para la lista de ficheros de una
carpeta. El criterio para cribar la lista de ficheros será que el tamaño sea
menor que cierto límite. Si descargaste, como se proponía en el ejemplo
anterior, el paquete de imágenes jpg gratuitas, podemos trabajar sobre ese
mismo directorio. Veamos un límite razonable para que tenga sentido:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>du<span class="w"> </span>-sh<span class="w"> </span>*
</pre></div>
</div>
<p>Vemos que el límite de 1500K puede funcionar como filtro:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">mi_filtro_de_tamaño</span><span class="o">=</span><span class="m">1500</span>
<span class="k">for</span><span class="w"> </span>filename<span class="w"> </span><span class="k">in</span><span class="w"> </span>*<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nv">peso</span><span class="o">=</span><span class="sb">`</span>du<span class="w"> </span><span class="nv">$filename</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $1}&#39;</span><span class="sb">`</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$peso</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">1500</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;      </span><span class="nv">$filename</span><span class="s2"> (</span><span class="nv">$peso</span><span class="s2"> K)&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">done</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hecho.&quot;</span>
</pre></div>
</div>
<p>Por último, y para no acumular ficheros innecesarios, puedes borrar lo que
hemos generado para este ejemplo y el anterior:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>../.
rm<span class="w"> </span>-r<span class="w"> </span>free_images_jpg<span class="w"> </span>free_images_jpg.tar.gz
</pre></div>
</div>
</section>
<section id="finalizacion-de-un-proceso-como-gatillo-para-otro-a-class-anchor-id-gatillo-a">
<h3>Finalización de un proceso como gatillo para otro. <a class="anchor" id="gatillo"></a><a class="headerlink" href="#finalizacion-de-un-proceso-como-gatillo-para-otro-a-class-anchor-id-gatillo-a" title="Enlace permanente a este encabezado">#</a></h3>
<p>Como último ejemplo, hagamos un sencillo algoritmo de proceso que se dispara
cuando otro acaba. Hagamos, como situación ilustrativa, que una terminal
imprima un mensaje cuando el comando <code class="docutils literal notranslate"><span class="pre">less</span></code>, ejecutado en otra terminal, acabe.</p>
<p>Abre una terminal, colócala al izquierda de tu pantalla y ejecuta <code class="docutils literal notranslate"><span class="pre">less</span></code> sobre
un fichero que vamos a crear:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Este fichero es auxiliar&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>foo.txt
less<span class="w"> </span>foo.txt
</pre></div>
</div>
<p>Ahora, sin cerrar <code class="docutils literal notranslate"><span class="pre">less</span></code>, abre otra terminal y colocala a la derecha de la
pantalla. Sobre ella vamos a ejectuar unas líneas de código que ordenan a la
terminal esperar a que no exista ningún proceso activo que contenga el texto
“foo.txt” para imprimir un mensaje. Copia estas lineas sobre la terminal
derecha y ejecútalas.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">less_vivo</span><span class="o">=</span><span class="m">0</span>
<span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$less_vivo</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>sleep<span class="w"> </span><span class="m">1</span>
<span class="w">    </span>ps<span class="w"> </span>aux<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="s1">&#39;grep&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;foo.txt&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>/dev/null
<span class="w">    </span><span class="nv">less_vivo</span><span class="o">=</span><span class="nv">$?</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$less_vivo</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;El proceso terminó!&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">done</span>
</pre></div>
</div>
<p>Verás que la terminal espera con el cursor parpadeante. Ahora, con las dos
terminales a la vista, mira lo que sucede en la terminal derecha cuando
seleccionas la terminal izquierda y presiona la tecla “q” para salir de <code class="docutils literal notranslate"><span class="pre">less</span></code>.</p>
</section>
</section>
<section id="las-extensiones-de-los-archivos">
<h2>Las extensiones de los archivos.<a class="headerlink" href="#las-extensiones-de-los-archivos" title="Enlace permanente a este encabezado">#</a></h2>
<p>El nombre de un fichero usualmente lleva un sufijo precedido por un punto. Por
ejemplo “fichero.txt” o “fichero.sh” o “fichero.py”. Ese sufijo, denominado
también extensión, sirve para indicar al usuario y al sistema qué naturaleza
tiene el fichero (y con qué aplicación debe abrirse por defecto). Pero no
pierdas de vista que no es nada más que parte del nombre del fichero y responde
a un convenio. Podemos crear un fichero de texto y llamarlo “patata” o
“patata.txt”, en ambos casos lo vas a poder leer con <code class="docutils literal notranslate"><span class="pre">less</span></code> o <code class="docutils literal notranslate"><span class="pre">more</span></code>. Podemos
crear el fichero “patata” o “patata.sh” en el caso de un script de bash, y
ambos comandos <code class="docutils literal notranslate"><span class="pre">bash</span> <span class="pre">patata</span></code> o <code class="docutils literal notranslate"><span class="pre">bash</span> <span class="pre">patata.sh</span></code> tendrán el mismo efecto. O
podemos crear un script de python y llamarlo “patata” o “patata.sh” o
“patata.txt” o “patata.py”… todos ellos podrán ser leidos por el
interpretador <code class="docutils literal notranslate"><span class="pre">python</span></code> con el mismo efecto. Por último, puedes tomar el pdf
“patata.pdf” y llamarlo “patata.odt” y el comando <code class="docutils literal notranslate"><span class="pre">evince</span> <span class="pre">patata.odt</span></code> abrirá el
pdf igual que lo haría <code class="docutils literal notranslate"><span class="pre">evince</span> <span class="pre">patata.pdf</span></code>. Reitero, la extensión es sólo una
parte del nombre, y tiene una función indicativa, no condiciona su contenido.</p>
<p>En la siguiente sección veremos que un fichero no es ejecutable por tener la
extensión “.exe”, si no por tener permisos de ejecución.</p>
</section>
<section id="el-script">
<h2>El script.<a class="headerlink" href="#el-script" title="Enlace permanente a este encabezado">#</a></h2>
<p>Hemos visto como Bash es en realidad un lenguage de programación. También que
esos comandos útiles listados en la sección <span class="xref myst">«La terminal y la sintaxis de
Bash.»</span> no son más que “programas”
ubicados en la carpeta <code class="docutils literal notranslate"><span class="pre">/bin</span></code>. Hemos ilustrado con ejemplos cómo la terminal
resulta tan útil, o más, que trabajar con el entorno de escritorio. Y vamos a
ver ahora otra tercera manera de operar con tu sistema operativo: el script.</p>
<p>A la terminal le podemos ofrecer ordenes de manera interactiva y secuencial, o
podemos escribir esa lista de ordenes en un fichero y pedirle que las ejecute
como un programa, línea a línea. Eso es un script: un fichero de texto plano
que codifica secuencialmente la lista de ordenes que queremos ejecutar y que se
ejecutan mediante la participación de un interpretador del fichero. En este
caso el interpretador de Bash. Que dónde está ese interpretador:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>which<span class="w"> </span>bash
</pre></div>
</div>
<p>Hagamos unos ejemplos sencillos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="sb">`</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Eres la más lista&quot;</span><span class="sb">`</span><span class="w"> </span>&gt;<span class="w"> </span>autoestima
</pre></div>
</div>
<p>Espero que hayas corregido el género de la frase si prefieres que te traten en
masculino. Ahora prueba a decirle a tu computadora que procese ese fichero con
el interpretador <code class="docutils literal notranslate"><span class="pre">bash</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bash<span class="w"> </span>autoestima
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">autoestima</span></code> es un script sencillo, de una sola línea. Vamos a hacerlo un
poquito más complicado antes de convertirlo en “ejecutable”. Abre tu editor de
texto y escribe las siguientes líneas:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># Genero un número aleatorio entre el 1 y el 5</span>
<span class="nv">loteria</span><span class="o">=</span><span class="sb">`</span>shuf<span class="w"> </span>-i<span class="w"> </span><span class="m">1</span>-5<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="sb">`</span>

<span class="c1"># Según el valor del número aleatorio saco un mensaje por terminal</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$loteria</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Eres la más lista&quot;</span>
<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$loteria</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Eres la más guapa&quot;</span>
<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$loteria</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Eres la más simpática&quot;</span>
<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$loteria</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Eres la más intelegente&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Eres la más divertida&quot;</span>
<span class="k">fi</span>
</pre></div>
</div>
<p>¿Has visto la primera línea? No reconoces nada conocido, ¿verdad?. Esta primera
línea le dice a la computadora cúal es el interpretador que ha de leer el
script para convertirlo a lenguage máquina, a operaciones. Si la primera línea
no está, siempre podemos, como hicimos antes, invocar nosotros el intepretador
con el comando <code class="docutils literal notranslate"><span class="pre">bash</span></code> -si el script es de Bash-. Pero queremos que nuestro
fichero sea auto-ejecutable, y el usuario no tiene por qué saber que es de
<code class="docutils literal notranslate"><span class="pre">bash</span></code> o <code class="docutils literal notranslate"><span class="pre">python</span></code> o <code class="docutils literal notranslate"><span class="pre">perl</span></code>, por decir alguno.</p>
<p>Ahora sí, hagamos que <code class="docutils literal notranslate"><span class="pre">autoestima</span></code> sea un ejecutable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod<span class="w"> </span>+x<span class="w"> </span>autoestima
</pre></div>
</div>
<p>Nota que seguramente <code class="docutils literal notranslate"><span class="pre">autoestima</span></code> ha cambiado de color en la terminal. Los
ficheros que no son directorios, ni alias o enlaces, ni ficheros comprimidos…
son de un color distinto que tu script. Esto es porque ahora tiene permisos de
ejecución. Mira el color con el que se lista en la terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>autoestima
</pre></div>
</div>
<p>Veremos más adelante qué significa el comando <code class="docutils literal notranslate"><span class="pre">chmod</span></code> en la sección <span class="xref myst">«Los
permisos de los ficheros.»</span>. Ahora ya puedes
ejecutar el script como un ejecutable, para ello tienes que invocarlo con el
path absoluto o el path relativo precedido de un “.”:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./autoestima
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/home/diego/autoestima
</pre></div>
</div>
<p>Volveremos al script “autoestima” más adelante, no lo borres todavía.</p>
<p>Para que el script reconozca argumentos de entrada debemos usar las variables “1”, “2”, “3”… que
por defecto recogen el valor de dichos argumentos de entrada según su posición en un script de
bash.</p>
<p>Añade al script autoestima como primera linea:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$1</span>
</pre></div>
</div>
<p>Y ejecútalo de la siguiente manera sustituyendo “tu_nombre” por tu nombre:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./autoestima<span class="w"> </span>tu_nombre
</pre></div>
</div>
</section>
<section id="el-reconocimiento-y-filtrado-de-texto-grep-awk-y-sed-a-class-anchor-id-grep-a">
<h2>El reconocimiento y filtrado de texto: grep, awk y sed. <a class="anchor" id="grep"></a><a class="headerlink" href="#el-reconocimiento-y-filtrado-de-texto-grep-awk-y-sed-a-class-anchor-id-grep-a" title="Enlace permanente a este encabezado">#</a></h2>
<p>El segundo comando que vemos aquí, <code class="docutils literal notranslate"><span class="pre">awk</span></code>, es un poco más sofisticado a la hora
de hacer búsqueda de patrones de texto. Vamos a poner un ejemplo:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 0   Energía 10.4&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 0   Temperatura 303  Distancia 8.2&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 1   Energía 10.2&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 1   Temperatura 300  Distancia 8.1&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 2   Energía 10.5&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 2   Temperatura 306  Distancia 8.0&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 3   Energía 10.1&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 3   Temperatura 299  Distancia 7.8&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 4   Energía 10.8&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 4   Temperatura 302  Distancia 7.6&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 5   Energía 10.1&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Paso 5   Temperatura 304  Distancia 7.5&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>Experimento_626.oup
</pre></div>
</div>
<p>Filtremos, como primer caso, según el número de campos. Antes de nada usemos
<code class="docutils literal notranslate"><span class="pre">awk</span></code> para sacar por pantalla el número de campos por línea después de las dos
primeras columnas</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>awk<span class="w"> </span><span class="s1">&#39;{print $1, $2, NF}&#39;</span><span class="w"> </span>Experimento_626.oup
</pre></div>
</div>
<p>Filtremos entonces las líneas que contienen sólo 4 campos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>awk<span class="w"> </span><span class="s1">&#39;{if (NF==4) print $0}&#39;</span><span class="w"> </span>Experimento_626.oup
</pre></div>
</div>
<p>Ahora, como último ejemplo que ilustra para qué puedes emplear <code class="docutils literal notranslate"><span class="pre">awk</span></code>, filtremos
las líneas en las que existe el patrón <em>Distancia</em> y su valor es menor o igual
que 8.0, e imprimamos dicho valor precedido únicamente del índice de paso:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>awk<span class="w"> </span><span class="s1">&#39;/Distancia/ {if ($6&lt;=8.0) print $2, $6}&#39;</span><span class="w"> </span>Experimento_626.oup
</pre></div>
</div>
<p>Ninguno de los dos comandos anteriores remplaza texto, bueno, con <code class="docutils literal notranslate"><span class="pre">awk</span></code> se
puede. Pero <code class="docutils literal notranslate"><span class="pre">sed</span></code> puede ser otra alternativa a usar con este propósito. Veamos
un ejemplo sencillo de substitución de texto con <code class="docutils literal notranslate"><span class="pre">sed</span></code>. En este caso, la
palabra <em>Distancia</em> por la palabra <em>Posición</em>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sed<span class="w"> </span><span class="s1">&#39;s/Distancia/Posición X/g&#39;</span><span class="w"> </span>Experimento_626.oup
</pre></div>
</div>
<p>Puede que la sintaxis de estos comandos te pueda parecer un poco complicada
pero en internet es fácil encontrar tutoriales sobre su uso. Tanto <code class="docutils literal notranslate"><span class="pre">awk</span></code> como
<code class="docutils literal notranslate"><span class="pre">sed</span></code> son herramientas muy poderosas para el tratamiento de patrones de texto.
Hacen lo que hemos visto anteriormente, y mucho más. En principio no te
recomiendo que te detengas ahora para hacerte un super experto o experta de
<code class="docutils literal notranslate"><span class="pre">awk</span></code>, por ejemplo. Es mejor que continues tu proceso de formación y cuando
tengas la necesidad de usar el comando encuentres un tiempo para saber más. Por
el momento, es suficiente saber que existe y qué es lo que hace.</p>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contenido
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#los-procesos-en-linux">Los procesos en Linux</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#top-ps-y-kill-a-class-anchor-id-top-a">top, ps y kill. <a class="anchor" id="top"></a></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#los-permisos-de-los-ficheros">Los permisos de los ficheros.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bash-como-lenguage-de-programacion-para-la-terminal-a-class-anchor-id-bash-a">Bash como lenguage de programación para la terminal. <a class="anchor" id="bash"></a></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables">Variables.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bucles">Bucles.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#condicion-logica-if-a-class-anchor-id-if-a">Condicion lógica <em>if</em>. <a class="anchor" id="if"></a></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conversion-de-imagenes-encontradas-en-un-directorio-a-class-anchor-id-convert-a">Conversión de imágenes encontradas en un directorio. <a class="anchor" id="convert"></a></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#listado-de-ficheros-pesados">Listado de ficheros pesados.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finalizacion-de-un-proceso-como-gatillo-para-otro-a-class-anchor-id-gatillo-a">Finalización de un proceso como gatillo para otro. <a class="anchor" id="gatillo"></a></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#las-extensiones-de-los-archivos">Las extensiones de los archivos.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#el-script">El script.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#el-reconocimiento-y-filtrado-de-texto-grep-awk-y-sed-a-class-anchor-id-grep-a">El reconocimiento y filtrado de texto: grep, awk y sed. <a class="anchor" id="grep"></a></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Por 
Liliana M. Moreno Vargas & Diego Prada Gracia | <a href= "mailto:uibcdf@gmail.com">Contáctanos</a>.
<br>
<a href="https://uibcdf.org">Unidad de Investigación en Biología Computacional y Diseño de Fármacos</a> del <a href=
"http://himfg.com.mx">Hospital Infantil de México Federico Gómez.</a>

</p>

  </div>
  
  <div class="footer-item">
    <div>
        Web creada usando <a href="https://github.com/sphinx-doc/sphinx">Sphinx</a> 5.3.0 con
        <a href="https://github.com/executablebooks/sphinx-book-theme">Sphinx Book Theme</a> 1.0.1.
</div>


<p xmlns:cc="http://creativecommons.org/ns#" >(2023) Todos los contenidos de este sitio están bajo la
licencia <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.es_ES" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">Attribution-NonCommercial-ShareAlike 4.0 International<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p>

<!--
<p xmlns:cc="http://creativecommons.org/ns#" >All contents of this site are licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">Attribution-NonCommercial-ShareAlike 4.0 International<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p>
--!>
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>